[
{
  "bookSourceComment": "ä½œè€…ï¼šæ´›å¨…æ©™\næ›´æ–°æ—¥å¿—ï¼š\n20241120-ä¼˜åŒ–é“¾æ¥ä¿¡æ¯ï¼Œé™åˆ¶è®¿é—®é—´éš”ä¸º2ç§’ï¼Œè¿‡å¿«è®¿é—®ä¼š520ï¼Œé‡åšç™»å½•æ•ˆæœï¼Œä¿®å¤æœç´¢\n20241106-å¢åŠ è´­ä¹°åŠŸèƒ½\n20241104-ä¿®å¤æ‰ç™»å½•bug\n20241103-ä¼˜åŒ–ç™»å½•ä½“éªŒï¼ŒåŠ å¿«VIPç« èŠ‚åŠ è½½é€Ÿåº¦\n20241101-ä¼˜åŒ–ç²¾ç®€å‘ç°é¡µä»£ç ï¼Œå¢åŠ è·å–ç« èŠ‚ä¿¡æ¯\n20241030-ä¿®å¤å•æœç´¢ç»“æœæƒ…å†µï¼Œä¼˜åŒ–è¯¦æƒ…é¡µä½œè€…è·å–ï¼Œä¼˜åŒ–ç²¾ç®€å‘ç°é¡µä»£ç \n20241013-ä¿®å¤å°é¢å›¾ç‰‡è·å–ï¼Œä¼˜åŒ–æ­£æ–‡è·å–\nå…«å‰å‘å¸ƒé¡µï¼šhttps://8xsk.org\n{{@@dd@em@text##.##ğŸ’}}",
  "bookSourceGroup": "ğŸŠæ´›å¨…æ©™",
  "bookSourceName": "ğŸŒˆå…«å‰ä¹¦åº“",
  "bookSourceType": 0,
  "bookSourceUrl": "æ´›å¨…æ©™-å…«å‰ä¹¦åº“",
  "bookUrlPattern": "https://www.\\d+\\.xyz/book/\\d+\\.html"ï¼Œ
  "concurrentRate": "2000",
  "coverDecodeJs": "",
  "customOrder": -52027,
  "enabled": true,
  "enabledCookieJar": false,
  "enabledExplore": true,
  "exploreUrl": "@js:\njava.put(\"banben\", '20241120');\nvar obj = {\n\tæœ€è¿‘æ›´æ–°: {\n\t\t\"url\": \"/sort/0/{{page}}.html\",\n\t\t\"fbp\": 0.45},\n\t\t\n\tæœ€è¿‘å…¥åº“: {\n\t\t\"url\": \"/top/postdate/{{page}}.html\",\n\t\t\"fbp\": 0.45},\n\t\t\n\tæœ€è¿‘å®Œç»“: {\n\t\t\"url\": \"/modules/article/articlelist.php?fullflag=1&page={{page}}\",\n\t\t\"fbp\": 0.45},\n\t\t\n\tç­¾çº¦æ–°ä¹¦: {\n\t\t\"url\": \"/top/signtime/{{page}}.html\",\n\t\t\"fbp\": 0.45},\n\t\t\n\tå­—æ•°æ¦œ: {\n\t\t\"url\": \"/top/words/{{page}}.html\",\n\t\t\"fbp\": 0.25},\n\t\t\n\tæ”¶è—æ¦œ: {\n\t\t\"url\": \"/top/goodnum/{{page}}.html\",\n\t\t\"fbp\": 0.25},\n\t\t\n\tæ–°ä¹¦æ¦œ: {\n\t\t\"url\": \"/top/newhot/{{page}}.html\",\n\t\t\"fbp\": 0.25},\n\t\t\n\tæ€»ç‚¹å‡»: {\n\t\t\"url\": \"/top/allvisit/{{page}}.html\",\n\t\t\"fbp\": 0.25,\n\t\t\"wrap\": true},\n\t\t\n\tæœˆç‚¹å‡»: {\n\t\t\"url\": \"/top/monthvisit/{{page}}.html\",\n\t\t\"fbp\": 0.25},\n\t\t\n\tå‘¨ç‚¹å‡»: {\n\t\t\"url\": \"/top/weekvisit/{{page}}.html\",\n\t\t\"fbp\": 0.25},\n\t\t\n\tæ€»æ¨è: {\n\t\t\"url\": \"/top/allvote/{{page}}.html\",\n\t\t\"fbp\": 0.25},\n\t\t\n\tæœˆæ¨è: {\n\t\t\"url\": \"/top/monthvote/{{page}}.html\",\n\t\t\"fbp\": 0.25},\n\t\t\n\tå‘¨æ¨è: {\n\t\t\"url\": \"/top/weekvote/{{page}}.html\",\n\t\t\"fbp\": 0.25}\n\t}\n\nsurl = source.getVariable();\n\nvar sort = [];\npush = (title, url, size, wrap) => sort.push({\n    title: title,\n    url: url ? surl + url : \"\",\n    style: {\n      layout_flexGrow: 1,\n      layout_flexBasisPercent: size,\n      layout_wrapBefore: wrap ? wrap : false\n     }\n  });\n\nfor (x in obj) {\npush(x, obj[x].url, obj[x].fbp, obj[x].wrap);\n}\n\nlet banben = java.get(\"banben\");\nvar d=new Date();\npush(\"ç‰ˆæœ¬å·ï¼š\"+banben, \"\", 1, true)\n//eval(String(source.loginCheckJs));\nJSON.stringify(sort);"ï¼Œ
  "header": "@js:\n(()=>{\n    var bs = \"com.mmbox.xbrowser\";\n    var xt = \"Windows\";\n    var ck=source.getLoginHeader();\n    var headers = {\n    \t\"User-Agent\": ua, \n    \t\"X-Requested-With\": bs,\n    \t\"Sec-Ch-Ua-Platform\": xt,\n    \t \"cookie\": ck\n    \t };\n    \t return JSON.stringify(headers);\n})();",
  "jsLib": "ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36 Edg/127.0.0.0';",
  "lastUpdateTime": 1732070940743,
  "loginCheckJs": "n = String(source.getVariable());\nif (!n) {\n    s = java.ajax('https://8xsk.org/');\n    r = s.match(/href\\=\\\"([^\"]+)\\\"[^\"]+ç”µè„‘ç«¯/)[1];\n    //r = 'https://www.8xsk.com/';\n    //r=\"https://www.733330.xyz\"\n    source.setVariable(r);\r\n    //java.toast(\"å·²é‡è·ç½‘å€\");\n}\n//java.log(\"ğŸŒˆ\"+result)\nresult",
  "loginUi": "[\n    {\n        name: \"è´¦å·\",\n        type: \"text\"\n    },\n    {\n        name: \"å¯†ç \",\n        type: \"text\"\n    },\n    {\n        name: \" æ³¨å†Œ\",\n        type: \"button\",\n        action: \"web()\"\n    },\n    {\n        name: \" ç™»å½•\",\n        type: \"button\",\n        action: \"login()\"\n    },\n    {\n        name: \" é€€å‡º\",\n        type: \"button\",\n        action: \"re()\"\n    },\n    {\n        name: \"  è¯´æ˜ \",\n        type: \"button\",\n        action: \"sm()\"\n    }\n]"ï¼Œ
  "loginUrl": "nn = String(source.getVariable());\n\r\nfunction shuchu(ll){\nlet cki = String(source.getLoginHeader()).includes(\"jieqiUserInfo\");\r\n    if (cki) {\r\n        java.toast(\"å·²æˆä¸ºVIPæ¨¡å¼ğŸ’\");\r\n    }\r\n    else {\r\n        java.toast(\"å·²å›åˆ°è®¿å®¢æ¨¡å¼ğŸ”’\");\r\n    }\r\n}\n\r\nfunction login(){\r\n    var Info=source.getLoginInfoMap();\r\n    if (!nn) {\r\n        eval(String(source.loginCheckJs)); \r\n        nn = String(source.getVariable());\r\n    }\n    \r\n    let url = nn+'/login.php';\r\n    let un = String(Info['è´¦å·']);\r\n    let pw = String(Info['å¯†ç ']);\r\n    let time = new Date().getTime();\n    \n    var body = `username=${un}&password=${pw}&submit=&act=login`;\n    \n    weiba = `?do=submit&jumpurl=${nn}`;\n    \r\n    let headers = {\r\n        'User-Agent': ua,\r\n        'referer': nn\r\n    };\n    cookie.removeCookie(nn);\n    \n    ck = java.post(url+ weiba,body,headers).cookies();\n\n    //å¤„ç†cookieæ ¼å¼\n    cookie1 = Object.entries(ck)\n    .map(([key, value]) => `${key}=${value}`)\n    .join('; ');\n    \r\n    //ck=cookie.getCookie(nn);\n    //cookie.setCookie(nn,ck);\n    //åŠ å…¥â†‘è¯¥ä»£ç åï¼Œè®©è½¯ä»¶é‡å¯åç½‘å€çš„cookieä¸æ¶ˆå¤±\n    //æ”¾å…¥ç™»å½•å¤´\r\n    source.putLoginHeader(cookie1);\r\n    shuchu(nn);\n    cookie.removeCookie(nn);\n    //ä»…ä½¿ç”¨ç™»å½•å¤´ä¿¡æ¯\n    \n//è¿›è¡Œå»¶æ—¶â†“\n var t1=new Date();\n\ti1=t1.getSeconds();\n j1=t1.getMilliseconds();\n\tdo{\n\tlet t2=new Date();\n  i2=t2.getSeconds();\n  j2=t2.getMilliseconds();\n  if (i2>i1&&j2>=j1) {\n  \ti2=0}\n  } while (i2)\n//å»¶æ—¶1ç§’ï¼Œä¸ºäº†èƒ½çœ‹åˆ°ç»“æœè¾“å‡º\r\n}\r\n\r\nfunction web(){\r\n    let url = nn.replace('www.','') + '/register.php';\r\n    java.startBrowser(url, 'å…«å‰');\r\n}\r\n\r\nfunction re(){\r\n    cookie.removeCookie(nn);\n    //source.removeLoginHeader();\n    //æ¸…é™¤ç™»å½•å¤´\r\n    shuchu(nn);\r\n}\n\r\nfunction sm(){\n    //let cki = java.getCookie(nn, 'jieqiUserInfo');\nlet cki = String(source.getLoginHeader()).includes(\"jieqiUserInfo\");\n    let ms= \"è®¿å®¢æ¨¡å¼ğŸ”’\";\n    if (cki != '') {\r\n        ms = \"VIPæ¨¡å¼ğŸ’\";\r\n    }\n    let banben = java.get(\"banben\");\r\n    let tt = `\\nç½‘å€ï¼š${nn}     \\næ¨¡å¼ï¼š${ms}                      \\nç‰ˆæœ¬ï¼š${banben}                         \\nè´¦å·éœ€è¦æ‰‹åŠ¨æ³¨å†Œï¼Œæ— æ”¶è´¹\\nç½‘å€ä¼šè‡ªåŠ¨æ›´æ–°`;\n    java.longToast(tt);\r\n}"ï¼Œ
  "respondTime": 180000,
  "ruleBookInfo": {
    "author": "meta[name=\"keywords\"]@content##^^\\s*(.+)\\,\\s*(.+)\\s*$##$2",
    "canReName": "",
    "coverUrl": "class.divbox cf@img@src",
    "init": "",
    "intro": "&#10;{{@@class.tabcontent@class.tabvalue.1@td[0:3,9,10]@text}}\n{{r=java.getString('.tabcontent .tabvalue:eq(0) div@textNodes');\nif (r==\"\") {''}\nelse {'ç®€ä»‹ï¼š\\n'+r.replace('ã€€ã€€','<br>')}\n}}",
    "kind": "b:contains(æ ‡ç­¾ï¼š)~a@text##\\#",
    "lastChapter": "",
    "name": "meta[name=\"keywords\"]@content##^\\s*(.+)\\,\\s*(.+)\\s*$##$1",
    "tocUrl": "class.btnlink b_hot mbs@href\n<js>\nvar ck=source.getLoginHeader()||'';\nresult+`,{\n\"headers\":{\n    \t \"cookie\": '${ck}'\n    \t }\n}`\n</js>",
    "wordCount": ".tabcontent .tabvalue.1@html##å…¨æ–‡å­—æ•°ï¼š(\\d+)##$1###"
  },
  "ruleContent": {
    "content": "#content,#acontent@html",
    "payAction": "nn = String(source.getVariable());\nvar url = nn+'/modules/obook/buychapter.php';\nck = source.getLoginHeader();\nvar tk = String(ck).match(/UserToken%3D([^%]+)/)[1];\nvar cid = String(chapter.url).match(/cid\\=(\\d+)/)[1];\nvar body = `buytype=0&act=buy&jieqi_token=${tk}&cid=${cid}&submit=`;\nlet headers = {\r\n        'user-agent': ua,\r\n        'referer': nn,\n        'cookie': ck\r\n    };\r\n    let option = {\r\n        \"method\": \"POST\",\r\n        \"headers\": headers,\r\n        \"body\": body\r\n    };\nlet cki = java.getCookie(nn, 'jieqiUserInfo');\nif (cki) {\n\tjava.ajax(url +','+ JSON.stringify(option));\n\ttrue\n\t}\nelse {\n\tjava.longToast(\"ğŸ’è¯·ç‚¹å‡»å³ä¸Šè§’ç™»å½•è´¦å·\");\n\tfalse\n\t}"ï¼Œ
    "replaceRegex": "##.*8xsk\\..*|.*è·³è½¬æ‰‹æœºç«¯é˜…è¯»ã€‚|.*æ‰‹æœºè¯·è®¿é—®ï¼š.*",
    "sourceRegex": "",
    "title": "class.mt mb@a@href\n<js>\nif (result)\njava.toast(\"ğŸ’è¯·ç‚¹å‡»å³ä¸Šè§’ç™»å½•è´¦å·\");\n\"\"\n</js>"
  },
  "ruleExplore": {
    "author": "td.2@text||span:contains(ä½œè€…ï¼š)+span@text",
    "bookList": "#jieqi_page_contents>tr||#content div[class=\"c_row cf\"]",
    "bookUrl": "td.0@a.-1@href||class.c_subject@a.1@href",
    "coverUrl": "td.0@a.-1@href||img@src##book\\/(\\d+)\\.html|(htt.*\\.jpg)##$1$2###\n<js>\nif (/articlelist|sort/.test(baseUrl)) {result}\nelse{\n  if (result<1000) {n=0}\n  else {n=result.slice(0,-3);}\n  '/files/article/image/'+n+'/'+result+'/'+result+'s.jpg';\n}\n</js>"ï¼Œ
    "intro": "td.3@text||class.c_description@text\n<js>\nif (baseUrl.includes(\"top/words\")) {'â €\\nå­—æ•°ï¼š'+(result/10000).toFixed(2)+'ä¸‡'}\nelse if (baseUrl.includes(\"top/goodnum\")) {'â €\\næ”¶è—æ•°ï¼š'+result}\nelse if (baseUrl.includes(\"top/newhot\")) {'â €\\nç‚¹å‡»æ•°ï¼š'+result}\nelse if (baseUrl.includes(\"top/signtime\")) {\n  var t = parseInt(result)*1000;\n  var date = new Date(t);\n  y = date.getFullYear()%2000;\n  m = date.getMonth() + 1;\n  d = date.getDate();\n  h = date.getHours().toString().padStart(2, '0');\n  min = date.getMinutes().toString().padStart(2, '0');\n  s = date.getSeconds();\n  //tt = date.toLocaleTimeString();\n  'â €\\nç­¾çº¦æ—¶é—´ï¼š'+y+'å¹´'+m+'æœˆ'+d+'æ—¥'+h+':'+min+' '+s+'ç§’'\n}\nelse if (baseUrl.includes(\"top/lastupdate\")) {'â €\\nå­—æ•°ï¼š'+(result/10000).toFixed(2)+'ä¸‡'}\nelse if (baseUrl.includes(\"top/postdate\")) {'â €\\nå…¥åº“æ—¶é—´ï¼š'+result}\nelse if (baseUrl.includes(\"top/allvisit\")) {'â €\\næ€»ç‚¹å‡»ï¼š'+result}\nelse if (baseUrl.includes(\"top/monthvisit\")) {'â €\\næœˆç‚¹å‡»ï¼š'+result}\nelse if (baseUrl.includes(\"top/weekvisit\")) {'â €\\nå‘¨ç‚¹å‡»ï¼š'+result}\nelse if (baseUrl.includes(\"top/allvote\")) {'â €\\næ€»æ¨èï¼š'+result}\nelse if (baseUrl.includes(\"top/monthvote\")) {'â €\\næœˆæ¨èï¼š'+result}\nelse if (baseUrl.includes(\"top/weekvote\")) {'â €\\nå‘¨æ¨èï¼š'+result}\nelse if (/articlelist|sort/.test(baseUrl)) {result}\nelse {''}\n</js>"ï¼Œ
    "kind": "td[4,5]@text||span:contains(æ›´æ–°ï¼š)+span@text",
    "lastChapter": "td.1@a.-1@text||class.c_subject@a.-1@text",
    "name": "td.0@a.-1@text||class.c_subject@a.1@text",
    "wordCount": "<js>\nif (/articlelist|sort/.test(baseUrl)) {\n  java.getString('span:contains(å­—æ•°ï¼š)+span@text')\n}\n</js>"
  },
  "ruleSearch": {
    "author": "span:contains(ä½œè€…ï¼š)+span@text",
    "bookList": "#jieqi_page_contents>div\n<js>\nif (!String(result)) {\n//source.setVariable('');\n//java.toast(\"éœ€é‡è·ç½‘å€\");\n}\nresult\n</js>",
    "bookUrl": "class.c_subject@a.0@href\n<js>\nvar ck=source.getLoginHeader()||'';\nresult+`,{\n\"headers\":{\n    \t \"cookie\": '${ck}'\n    \t }\n}`\n</js>",
    "checkKeyWord": "ä¸‰å¹´åˆä¸‰å¹´",
    "coverUrl": ".fl img@src",
    "intro": ".c_description@text",
    "kind": "span:contains(æ›´æ–°ï¼š)+span@text&&span:contains(å…³é”®å­—ï¼š)+span@text\n<js>\nString(result).replace(/[\\[\\]\\#\\,]/g,'').split(' ');\n</js>",
    "lastChapter": "span:contains(æœ€æ–°ç« èŠ‚ï¼š)+span@text",
    "name": ".c_subject@text##\\\"",
    "wordCount": "span:contains(å­—æ•°ï¼š)+span@text"
  },
  "ruleToc": {
    "chapterList": ".index dd,dt\n<js>\nif (!String(result)) {\nsource.setVariable('');\n//java.toast(\"éœ€åˆ·æ–°\");\n}\nresult\n</js>",
    "chapterName": "text",
    "chapterUrl": "a@href\n<js>\nvar ck=source.getLoginHeader()||'';\n    //ä½¿ç”¨ç™»å½•å¤´ä¸­çš„ä¿¡æ¯\nresult+`,{\n\"headers\":{\n    \t \"cookie\": '${ck}'\n    \t }\n}`\n</js>",
    "formatJs": "",
    "isPay": "",
    "isVip": "dd@em@text",
    "isVolume": "dt@text",
    "preUpdateJs": "",
    "updateTime": "{{@@dd@a@title##\\d{1,2}\\:\\d{1,2}æ›´æ–°ï¼Œå…±(\\d+å­—).*## $1}}"
  },
  "searchUrl": "<js>\neval(String(source.loginCheckJs));\nnn = source.getVariable();\nck=source.getLoginHeader()||'';\n//ä½¿ç”¨ç™»å½•å¤´ä¸­çš„ä¿¡æ¯\nbody=`searchtype=all&searchkey=${key}&act=search&submit=`;\nnn + `/modules/article/search.php,{\n\t  \"method\": 'POST',\n\t  \"body\": '${body}',\n\t  \"headers\":{\n    \t \"cookie\": '${ck}'\n    \t }\n}`\n</js>"ï¼Œ
  "variableComment": "â™¦å½“å‰ä¹¦æºä½¿ç”¨çš„å…«å‰ç½‘å€\nâ™¦ä¼šè‡ªåŠ¨ä»ç½‘å€å‘å¸ƒé¡µè·å–",
  "weight": 0
}
]
